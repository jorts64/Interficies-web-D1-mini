<!DOCTYPE html>
<html>
<title>W3.CSS</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="w3.css">
<script src="w3.js"></script>
<body>

<!-- Sidebar -->
<div w3-include-html="sidebar.html"></div>
<!-- Bottom bar -->
<div class="w3-bottom">
  <div class="w3-bar w3-blue">
    <a href="#" class="w3-bar-item w3-button">&#9664;</a>
    <a href="#" class="w3-bar-item w3-button w3-middle"> &#127777;</a>
    <a href="hr.html" class="w3-bar-item w3-button w3-middle"> &#128167;</a>
    <a href="hr.html" class="w3-bar-item w3-button w3-right">&#9654;</a>
  </div>
</div>
<!-- Page Top Content -->
<!--  *********** CANVIAR My Page PEL TÍTOL DE LA PÀGINA **************   -->
<div class="w3-teal">
  <button class="w3-button w3-teal w3-xlarge" onclick="w3_open()">&#9776;</button>
  <span class="w3-center w3-padding-16">Temperatura</span>
</div>

<!--  ************* INICI CONTINGUT PROPI DE LA PÀGINA ****************   -->
<br/>
<table class="w3-table w3-centered ">
	<tr>
		<td>
		</td>
		<td>
			<button class="w3-button w3-round-xxlarge w3-green" id="valor">N/A</button>
		</td>
		<td style="width:50%">
			<img id='icona' src='cold.svg'>			
		</td>
	</tr>
	</table>

<script>
  function loadT() {
    var xhttp = new XMLHttpRequest();
	var temp = 0;
	xhttp.open('GET', 'ajax_t.txt', false);
	xhttp.send();
	temp = parseFloat(xhttp.responseText);
	return (temp);
	}
	
  var myVar = setInterval(myTimer, 3000);
  function myTimer() {
	var t= loadT();
	document.getElementById('valor').innerHTML = t+" &deg;C";
	if (t>27) {
	   document.getElementById('icona').src = 'hot.svg';
       }
    else {
       document.getElementById('icona').src = 'warm.svg';
       }
	}

  myTimer();
	
</script>


<!--  *************** FI CONTINGUT PROPI DE LA PÀGINA *****************   -->

<script>
w3.includeHTML();
function w3_open() {
  document.getElementById("mySidebar").style.display = "block";
}

function w3_close() {
  document.getElementById("mySidebar").style.display = "none";
}
</script>
     
</body>
</html> 
